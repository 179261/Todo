# 待办事项管理器程序1.1说明

## 1. 基本功能

它提供了以下核心功能：

- **今日视图**：展示当天需要完成的所有事项，支持添加、编辑、删除、标记完成、快速批量生成重复事项、计时器启动以及多天项目的进度提交。
- **日历视图**：以月历形式展示所有有事件的日子，点击日期可查看该日事件列表，双击日期或事件可跳转到今日视图。
- **计时器管理**：为每个未完成的事件启动正向计时或倒计时，计时器在后台运行，支持暂停/继续、手动完成，完成时自动更新事件状态。
- **系统托盘**：支持最小化到托盘，后台运行。
- **定时提醒**：每分钟检查一次是否有事件到达开始时间，弹出提醒窗口并播放声音。

## 2. 使用说明

### 2.1.1 事件添加与编辑

1. 在每日视图点击“添加事项”或双击事项或点击编辑，弹出对话框。
2. 填写标题（必填）、描述、日期、时间等，其中“结束日期”留空表示单日事件。
3. 开始时间通过复选框控制是否启用，若启用但用户未输入，则单日事件自动填充当前时间，多天项目留空。

### 2.1.2 多天项目进度管理

1. 多天项目在每日视图中显示为“未提交/已提交(x%)”状态。
2. 点击“提交进度”按钮，输入当日进度值。
3. 若当日未手动提交，则显示最近一次进度的“自动延续”状态。

### 2.2 日历视图的事件标记
1. 可以切换月份。
2. 绘制日历时，若日期中有事项，则该单元格背景色设为浅蓝色。
3. 单击日期可将该日事件显示在今日视图列表。

### 2.3 计时器使用
1. 在今日视图选中一个未完成事件，点击“计时”打开计时窗口。
2. 选择模式（计时/倒计时），若选择倒计时则设置时间，点击“开始”。
4. 可在计时器列表标签页查看所有运行中任务，并控制暂停/完成。
5. 手动点击“完成”或倒计时归零时，自动将事件标记为完成，并更新结束时间为当前时间（若原结束时间为空）。

### 2.4 托盘机制
1. 主窗口关闭时隐藏到托盘
2. 左击托盘或右键托盘点击`显示窗口`可以显示窗口。
3. 右键托盘点击`退出`即可退出程序。
### 2.5 提醒机制
1. 若事项到了开始时间会触发提醒。 提醒窗口弹出，同时播放声音，点击“知道了”停止声音并关闭窗口。
2. 提醒机制30秒检查一次，故到了开始时间可能会有一些延迟。
3. 开始时间要满足`hh:mm`的格式，具体见3.3
4. 播放声音见3.1


## 3. 注意事项

1. 自定义提醒声音：在`resources`文件夹里添加名称`reminder.mp3`或`reminder.wav`，否则提醒声音为`C:\Windows\Media\Alarm01.wav`内容。
2. 若要关闭程序，需右键托盘退出。主窗口关闭时隐藏到托盘，不退出。
3. 若要正确开启提醒机制，输入开始时间需满足`hh:mm`格式，例如`13:14`。冒号要为英文半角`;`而非中文全角`；`，凌晨也要输入`00:mm`而非`0:mm`。
4. 首次使用数据库会自动创建，无初始数据。数据库文件 `todo.db` 默认生成在程序运行目录。
5. 程序主窗口关闭时隐藏到托盘，不退出。若要退出请右击程序的托盘图标，选择退出。
6. 可以通过发送快捷方式更改快捷方式的图标，程序窗口的图标为`resources/icon.ico`，托盘图标为`resources/icon.png`

## 4. 更新记录
1. 相较于1.0版本，更新启用提醒按钮

---
